[debug] [2026-02-23T21:23:03.007Z] ----------------------------------------------------------------------
[debug] [2026-02-23T21:23:03.730Z] Command:       /Users/hadzikoh/.nvm/versions/node/v24.12.0/bin/node /Users/hadzikoh/.nvm/versions/node/v24.12.0/bin/firebase deploy --only firestore:indexes
[debug] [2026-02-23T21:23:03.780Z] CLI Version:   15.1.0
[debug] [2026-02-23T21:23:03.780Z] Platform:      darwin
[debug] [2026-02-23T21:23:03.780Z] Node Version:  v24.12.0
[debug] [2026-02-23T21:23:03.780Z] Time:          Tue Feb 24 2026 04:23:03 GMT+0700 (Western Indonesia Time)
[debug] [2026-02-23T21:23:03.780Z] ----------------------------------------------------------------------
[debug] 
[debug] [2026-02-23T21:23:03.881Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2026-02-23T21:23:29.870Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-02-23T21:23:29.883Z] > authorizing via signed-in user (vizsem.itecs@gmail.com)
[debug] [2026-02-23T21:23:29.884Z] [iam] checking project atayatoko2 for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]
[debug] [2026-02-23T21:23:29.884Z] Checked if tokens are valid: false, expires at: 1767036396893
[debug] [2026-02-23T21:23:29.884Z] Checked if tokens are valid: false, expires at: 1767036396893
[debug] [2026-02-23T21:23:29.884Z] > refreshing access token with scopes: []
[debug] [2026-02-23T21:23:29.909Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2026-02-23T21:23:29.909Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2026-02-23T21:23:30.279Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2026-02-23T21:23:30.279Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2026-02-23T21:23:30.386Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/atayatoko2:testIamPermissions [none]
[debug] [2026-02-23T21:23:30.386Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/atayatoko2:testIamPermissions x-goog-quota-user=projects/atayatoko2
[debug] [2026-02-23T21:23:30.386Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/atayatoko2:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[debug] [2026-02-23T21:23:30.512Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2026-02-23T21:23:30.512Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2026-02-23T21:23:31.591Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/atayatoko2:testIamPermissions 200
[debug] [2026-02-23T21:23:31.591Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/atayatoko2:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[info] 
[info] === Deploying to 'atayatoko2'...
[info] 
[info] i  deploying firestore 
[info] i  firestore: ensuring required API firestore.googleapis.com is enabled... 
[info] i  firestore: ensuring required API firestore.googleapis.com is enabled... 
[debug] [2026-02-23T21:23:31.603Z] Checked if tokens are valid: true, expires at: 1771885409279
[debug] [2026-02-23T21:23:31.603Z] Checked if tokens are valid: true, expires at: 1771885409279
[debug] [2026-02-23T21:23:31.603Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default) [none]
[debug] [2026-02-23T21:23:31.758Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default) 200
[debug] [2026-02-23T21:23:31.758Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default) {"name":"projects/atayatoko2/databases/(default)","uid":"57c7a31b-993c-4bd7-83dc-d88c59c9f6f2","createTime":"2025-12-24T13:49:34.228981Z","updateTime":"2025-12-24T13:49:34.228981Z","locationId":"asia-southeast2","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2026-02-23T20:23:31.877914Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"zet","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"realtimeUpdatesMode":"REALTIME_UPDATES_MODE_ENABLED","etag":"IN257I/G8JIDMLCZ5oyC5JID"}
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2026-02-23T21:23:31.773Z] Checked if tokens are valid: true, expires at: 1771885409279
[debug] [2026-02-23T21:23:31.773Z] Checked if tokens are valid: true, expires at: 1771885409279
[debug] [2026-02-23T21:23:31.773Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/atayatoko2:test [none]
[debug] [2026-02-23T21:23:31.773Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/atayatoko2:test [omitted]
[debug] [2026-02-23T21:23:33.207Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/atayatoko2:test 200
[debug] [2026-02-23T21:23:33.207Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/atayatoko2:test {"issues":[{"sourcePosition":{"fileName":"firestore.rules","line":31,"column":14,"currentOffset":739,"endOffset":745},"description":"Unused function: isOwner.","severity":"WARNING"},{"sourcePosition":{"fileName":"firestore.rules","line":32,"column":14,"currentOffset":770,"endOffset":776},"description":"Invalid variable name: request.","severity":"WARNING"},{"sourcePosition":{"fileName":"firestore.rules","line":32,"column":38,"currentOffset":794,"endOffset":800},"description":"Invalid variable name: request.","severity":"WARNING"}]}
[warn] ⚠  [W] 31:14 - Unused function: isOwner. 
[warn] ⚠  [W] 32:14 - Invalid variable name: request. 
[warn] ⚠  [W] 32:38 - Invalid variable name: request. 
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[info] i  firestore: deploying indexes... 
[debug] [2026-02-23T21:23:33.221Z] Checked if tokens are valid: true, expires at: 1771885409279
[debug] [2026-02-23T21:23:33.221Z] Checked if tokens are valid: true, expires at: 1771885409279
[debug] [2026-02-23T21:23:33.221Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default)/collectionGroups/-/indexes [none]
[debug] [2026-02-23T21:23:33.329Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default)/collectionGroups/-/indexes 200
[debug] [2026-02-23T21:23:33.329Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default)/collectionGroups/-/indexes {"indexes":[{"name":"projects/atayatoko2/databases/(default)/collectionGroups/products/indexes/CICAgNiav4AJ","queryScope":"COLLECTION","fields":[{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"stock","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/%20%20orders/indexes/CICAgOi39IkJ","queryScope":"COLLECTION","fields":[{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/users/indexes/CICAgJiUsZIJ","queryScope":"COLLECTION","fields":[{"fieldPath":"role","order":"ASCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/categories/indexes/CICAgNiav4AK","queryScope":"COLLECTION","fields":[{"fieldPath":"name","order":"ASCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/orders/indexes/CICAgJim14AK","queryScope":"COLLECTION","fields":[{"fieldPath":"userId","order":"ASCENDING"},{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/inventory_transactions/indexes/CICAgOjXh4EK","queryScope":"COLLECTION","fields":[{"fieldPath":"type","order":"ASCENDING"},{"fieldPath":"productId","order":"DESCENDING"},{"fieldPath":"supplierId","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/orders/indexes/CICAgNiroIEK","queryScope":"COLLECTION","fields":[{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"userId","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/suppliers/indexes/CICAgNjpgYIK","queryScope":"COLLECTION","fields":[{"fieldPath":"name","order":"ASCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/promotions/indexes/CICAgJjF9oIK","queryScope":"COLLECTION","fields":[{"fieldPath":"isActive","order":"ASCENDING"},{"fieldPath":"startDate","order":"ASCENDING"},{"fieldPath":"endDate","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/products/indexes/CICAgJiUpoMK","queryScope":"COLLECTION","fields":[{"fieldPath":"category","order":"DESCENDING"},{"fieldPath":"category","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/carts/indexes/CICAgNi47oMK","queryScope":"COLLECTION","fields":[{"fieldPath":"userId","order":"ASCENDING"},{"fieldPath":"updatedAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/point_logs/indexes/CICAgJjmnIgK","queryScope":"COLLECTION","fields":[{"fieldPath":"userId","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/orders/indexes/CICAgOi3kJAK","queryScope":"COLLECTION","fields":[{"fieldPath":"userId","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/orders/indexes/CICAgJjmiJEK","queryScope":"COLLECTION","fields":[{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/warehouses/indexes/CICAgJiUsZIK","queryScope":"COLLECTION","fields":[{"fieldPath":"name","order":"ASCENDING"},{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/atayatoko2/databases/(default)/collectionGroups/purchases/indexes/CICAgJiUsZIL","queryScope":"COLLECTION","fields":[{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"supplierId","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"}]}
[debug] [2026-02-23T21:23:33.329Z] Checked if tokens are valid: true, expires at: 1771885409279
[debug] [2026-02-23T21:23:33.329Z] Checked if tokens are valid: true, expires at: 1771885409279
[debug] [2026-02-23T21:23:33.330Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* [none]
[debug] [2026-02-23T21:23:33.380Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* 200
[debug] [2026-02-23T21:23:33.380Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* {"fields":[{"name":"projects/atayatoko2/databases/(default)/collectionGroups/__default__/fields/*","indexConfig":{"indexes":[{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"ASCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"DESCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","arrayConfig":"CONTAINS"}],"state":"READY"}]}}]}
[debug] [2026-02-23T21:23:33.380Z] Checked if tokens are valid: true, expires at: 1771885409279
[debug] [2026-02-23T21:23:33.380Z] Checked if tokens are valid: true, expires at: 1771885409279
[debug] [2026-02-23T21:23:33.381Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default) [none]
[debug] [2026-02-23T21:23:33.441Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default) 200
[debug] [2026-02-23T21:23:33.441Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/atayatoko2/databases/(default) {"name":"projects/atayatoko2/databases/(default)","uid":"57c7a31b-993c-4bd7-83dc-d88c59c9f6f2","createTime":"2025-12-24T13:49:34.228981Z","updateTime":"2025-12-24T13:49:34.228981Z","locationId":"asia-southeast2","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2026-02-23T20:23:33.561496Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"zet","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"realtimeUpdatesMode":"REALTIME_UPDATES_MODE_ENABLED","etag":"INOZ05DG8JIDMLCZ5oyC5JID"}
[info] i  firestore: The following indexes are defined in your project but are not present in your firestore indexes file:
	(products) -- (status,ASCENDING) (stock,ASCENDING)  -- Density:SPARSE_ALL 
	(%20%20orders) -- (status,ASCENDING) (createdAt,ASCENDING)  -- Density:SPARSE_ALL 
	(users) -- (role,ASCENDING) (createdAt,ASCENDING)  -- Density:SPARSE_ALL 
	(categories) -- (name,ASCENDING) (createdAt,ASCENDING)  -- Density:SPARSE_ALL 
	(orders) -- (userId,ASCENDING) (status,ASCENDING) (createdAt,DESCENDING)  -- Density:SPARSE_ALL 
	(inventory_transactions) -- (type,ASCENDING) (productId,DESCENDING) (supplierId,DESCENDING)  -- Density:SPARSE_ALL 
	(orders) -- (createdAt,ASCENDING) (userId,ASCENDING)  -- Density:SPARSE_ALL 
	(suppliers) -- (name,ASCENDING) (createdAt,ASCENDING)  -- Density:SPARSE_ALL 
	(promotions) -- (isActive,ASCENDING) (startDate,ASCENDING) (endDate,ASCENDING)  -- Density:SPARSE_ALL 
	(products) -- (category,DESCENDING) (category,ASCENDING)  -- Density:SPARSE_ALL 
	(carts) -- (userId,ASCENDING) (updatedAt,DESCENDING)  -- Density:SPARSE_ALL 
	(point_logs) -- (userId,ASCENDING) (createdAt,DESCENDING)  -- Density:SPARSE_ALL 
	(orders) -- (userId,ASCENDING) (createdAt,DESCENDING)  -- Density:SPARSE_ALL 
	(warehouses) -- (name,ASCENDING) (status,ASCENDING)  -- Density:SPARSE_ALL 
	(purchases) -- (createdAt,ASCENDING) (supplierId,ASCENDING)  -- Density:SPARSE_ALL  
